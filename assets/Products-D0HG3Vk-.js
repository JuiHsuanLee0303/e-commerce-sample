import{f as d,g as b,u as F,c as a,a as t,h as A,i as g,v as m,b as w,F as h,j as _,r as N,o as r,t as f,d as j,w as U,k as C}from"./index-QRXrHQag.js";import{p as X}from"./products-BOhu80ZB.js";const q={class:"min-h-screen bg-white py-12"},P={class:"max-w-7xl mx-auto px-4"},D={class:"mb-12"},H={class:"flex flex-wrap gap-6"},W={class:"w-full md:w-auto"},Z={class:"w-full md:w-auto"},E={class:"w-full md:w-auto"},I={class:"w-full md:w-auto"},Q={key:0,class:"mt-6 flex flex-wrap gap-2"},R=["onClick"],T={key:0,class:"text-center py-20"},G={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8"},J={class:"relative overflow-hidden mb-4"},K=["src","alt"],O={class:"text-center"},Y={class:"text-lg font-light mb-1"},ee={class:"text-gray-500 text-sm mb-2"},te={class:"text-xl font-light"},oe={class:"absolute top-4 right-4 flex flex-col gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300"},se=["onClick"],le={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},ae={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},re=["onClick"],ce={__name:"Products",setup(ie){const $=F(),i=d(""),n=d(""),u=d(""),p=d("default"),v=d(new Set),c=b(()=>$.query.search||""),L=b(()=>i.value||n.value||u.value||c.value),M=b(()=>{const o=[];return i.value&&o.push({type:"category",label:`分類: ${i.value}`}),n.value&&o.push({type:"price",label:`價格: ${n.value}`}),u.value&&o.push({type:"size",label:`尺寸: ${u.value}`}),c.value&&o.push({type:"search",label:`搜尋: ${c.value}`}),o}),x=b(()=>{let o=[...X];if(c.value){const e=c.value.toLowerCase();o=o.filter(l=>l.name.toLowerCase().includes(e)||l.description.toLowerCase().includes(e))}if(i.value&&(o=o.filter(e=>e.category===i.value)),u.value&&(o=o.filter(e=>e.sizes.includes(u.value))),n.value){const[e,l]=n.value.split("-").map(Number);o=o.filter(s=>l?s.price>=e&&s.price<=l:s.price>=e)}switch(p.value){case"price-asc":o.sort((e,l)=>e.price-l.price);break;case"price-desc":o.sort((e,l)=>l.price-e.price);break;case"name-asc":o.sort((e,l)=>e.name.localeCompare(l.name));break;case"name-desc":o.sort((e,l)=>l.name.localeCompare(e.name));break}return o}),S=o=>{switch(o){case"category":i.value="";break;case"price":n.value="";break;case"size":u.value="";break}},k=()=>{i.value="",n.value="",u.value="",p.value="default"},z=o=>{v.value.has(o.id)?v.value.delete(o.id):v.value.add(o.id)},V=o=>v.value.has(o.id),B=o=>{alert("商品已加入購物車！")};return(o,e)=>{const l=N("router-link");return r(),a("div",q,[t("div",P,[t("div",D,[t("div",H,[t("div",W,[e[5]||(e[5]=t("label",{class:"block text-xs font-medium text-gray-500 uppercase tracking-wider mb-2"},"分類",-1)),g(t("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>i.value=s),class:"w-full md:w-48 px-4 py-2 border-0 border-b-2 border-gray-200 focus:border-black focus:outline-none focus:ring-0 bg-transparent"},e[4]||(e[4]=[t("option",{value:""},"所有分類",-1),t("option",{value:"上衣"},"上衣",-1),t("option",{value:"褲裝"},"褲裝",-1),t("option",{value:"裙裝"},"裙裝",-1)]),512),[[m,i.value]])]),t("div",Z,[e[7]||(e[7]=t("label",{class:"block text-xs font-medium text-gray-500 uppercase tracking-wider mb-2"},"價格範圍",-1)),g(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>n.value=s),class:"w-full md:w-48 px-4 py-2 border-0 border-b-2 border-gray-200 focus:border-black focus:outline-none focus:ring-0 bg-transparent"},e[6]||(e[6]=[w('<option value="">所有價格</option><option value="0-300">$300以下</option><option value="300-600">$300-$600</option><option value="600-1000">$600-$1000</option><option value="1000+">$1000以上</option>',5)]),512),[[m,n.value]])]),t("div",E,[e[9]||(e[9]=t("label",{class:"block text-xs font-medium text-gray-500 uppercase tracking-wider mb-2"},"尺寸",-1)),g(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>u.value=s),class:"w-full md:w-48 px-4 py-2 border-0 border-b-2 border-gray-200 focus:border-black focus:outline-none focus:ring-0 bg-transparent"},e[8]||(e[8]=[w('<option value="">所有尺寸</option><option value="XS">XS</option><option value="S">S</option><option value="M">M</option><option value="L">L</option><option value="XL">XL</option>',6)]),512),[[m,u.value]])]),t("div",I,[e[11]||(e[11]=t("label",{class:"block text-xs font-medium text-gray-500 uppercase tracking-wider mb-2"},"排序方式",-1)),g(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>p.value=s),class:"w-full md:w-48 px-4 py-2 border-0 border-b-2 border-gray-200 focus:border-black focus:outline-none focus:ring-0 bg-transparent"},e[10]||(e[10]=[w('<option value="default">預設排序</option><option value="price-asc">價格由低到高</option><option value="price-desc">價格由高到低</option><option value="name-asc">名稱 A-Z</option><option value="name-desc">名稱 Z-A</option>',5)]),512),[[m,p.value]])])]),L.value?(r(),a("div",Q,[(r(!0),a(h,null,_(M.value,s=>(r(),a("div",{key:s.type,class:"bg-gray-100 px-3 py-1 rounded-full text-xs uppercase tracking-wider flex items-center gap-2"},[t("span",null,f(s.label),1),t("button",{onClick:y=>S(s.type),class:"text-gray-500 hover:text-black transition-colors"}," × ",8,R)]))),128)),t("button",{onClick:k,class:"text-xs text-gray-500 hover:text-black transition-colors uppercase tracking-wider"}," 清除所有篩選 ")])):A("",!0)]),x.value.length===0?(r(),a("div",T,[e[12]||(e[12]=t("p",{class:"text-gray-500 mb-6 uppercase tracking-wider"}," 沒有符合條件的商品 ",-1)),t("button",{onClick:k,class:"inline-block bg-black text-white px-8 py-3 rounded-none hover:bg-gray-800 transition uppercase tracking-wider text-sm"}," 清除篩選條件 ")])):(r(),a("div",G,[(r(!0),a(h,null,_(x.value,s=>(r(),a("div",{key:s.id,class:"group relative"},[j(l,{to:"/product/"+s.id,class:"block"},{default:U(()=>[t("div",J,[t("img",{src:s.image,alt:s.name,class:"w-full h-80 object-cover transition-transform duration-500 group-hover:scale-105"},null,8,K),e[13]||(e[13]=t("div",{class:"absolute inset-0 bg-black opacity-0 group-hover:opacity-10 transition-opacity duration-300"},null,-1))]),t("div",O,[t("h3",Y,f(s.name),1),t("p",ee,f(s.description),1),t("p",te,"$"+f(s.price),1)])]),_:2},1032,["to"]),t("div",oe,[t("button",{onClick:C(y=>z(s),["prevent"]),class:"bg-white p-2 rounded-full text-gray-600 hover:text-red-500 transition-colors shadow-sm"},[V(s)?(r(),a("svg",le,e[14]||(e[14]=[t("path",{"fill-rule":"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z","clip-rule":"evenodd"},null,-1)]))):(r(),a("svg",ae,e[15]||(e[15]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"},null,-1)])))],8,se),t("button",{onClick:C(y=>B(),["prevent"]),class:"bg-white p-2 rounded-full text-gray-600 hover:text-black transition-colors shadow-sm"},e[16]||(e[16]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})],-1)]),8,re)])]))),128))]))])])}}};export{ce as default};
